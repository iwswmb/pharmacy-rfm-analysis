# üè• RFM-–∞–Ω–∞–ª–∏–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑—ã –∞–ø—Ç–µ—á–Ω–æ–π —Å–µ—Ç–∏

### –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤ Google Docs: ‚ÜóÔ∏è[RFM-–∞–Ω–∞–ª–∏–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑—ã –∞–ø—Ç–µ—á–Ω–æ–π —Å–µ—Ç–∏](https://docs.google.com/document/d/1HPEZNET0CZWZ6uFuFYo8Rt9O-4z_5iHWyE0DPTAcvws/edit?usp=sharing)
<br>
–û—Å–Ω–æ–≤–Ω–æ–π –º–æ—Ç–∏–≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: –≤ –ø—Ä–µ–¥–¥–≤–µ—Ä–∏–∏ —Å–µ–∑–æ–Ω–Ω–æ–≥–æ —Å–ø–∞–¥–∞ –ø—Ä–æ–¥–∞–∂ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–ø—Ç–µ–∫–∏ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏.
–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å - –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –°–ú–°-—Ä–∞—Å—Å—ã–ª–∫–∏, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –±—é–¥–∂–µ—Ç –≤–ø—É—Å—Ç—É—é.
<br>
<br>

## üéØ –¶–µ–ª–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

- –°–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –±–∞–∑—É.
- –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–º –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã.
- –ü–æ–≤—ã—Å–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∑–∞—Ç—Ä–∞—Ç –≤ –ø–µ—Ä–∏–æ–¥ —Å–µ–∑–æ–Ω–Ω–æ–≥–æ —Å–ø–∞–¥–∞ –ø—Ä–æ–¥–∞–∂.
<br>

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
pharmacy-rfm-analysis/
‚îú‚îÄ‚îÄ bi_system/    # –î–∞—à–±–æ—Ä–¥ –∏ –∑–∞–ø—Ä–æ—Å—ã –≤ Metabase
‚îÇ    ‚îú‚îÄ‚îÄ dashboard.md    # –î–∞—à–±–æ—Ä–¥ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
‚îÇ    ‚îî‚îÄ‚îÄ sql_queries/    # –ó–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω—É–∂–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
‚îÇ        ‚îú‚îÄ‚îÄ –î–∏–Ω–∞–º–∏–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–∫—É–ø–æ–∫.sql
‚îÇ        ‚îú‚îÄ‚îÄ –î–∏–Ω–∞–º–∏–∫–∞ —Å—É–º–º—ã –ø–æ–∫—É–ø–æ–∫.sql
‚îÇ        ‚îú‚îÄ‚îÄ –î–æ–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –≥—Ä—É–ø–ø–∞–º.sql
‚îÇ        ‚îú‚îÄ‚îÄ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–∫—É–ø–æ–∫ –æ—Ç —Å—É–º–º—ã –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã.sql
‚îÇ        ‚îú‚îÄ‚îÄ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º.sql
‚îÇ        ‚îú‚îÄ‚îÄ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–æ—è–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –∞–ø—Ç–µ–∫–∞–º.sql
‚îÇ        ‚îî‚îÄ‚îÄ –¢–∞–±–ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤.sql
‚îÇ
‚îú‚îÄ‚îÄ notebooks/    # –ê–Ω–∞–ª–∏–∑ –≤ Jupyter Notebook
‚îÇ    ‚îî‚îÄ‚îÄ percentile_thresholds.ipynb    # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
‚îÇ
‚îú‚îÄ‚îÄ research/    # –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ rfm_analysis_research.md    # RFM-–∞–Ω–∞–ª–∏–∑ –∞–ø—Ç–µ—á–Ω–æ–π —Å–µ—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ sql/    # SQL-–∑–∞–ø—Ä–æ—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ rfm_analysis.sql    # –ó–∞–ø—Ä–æ—Å –¥–ª—è RFM-–∞–Ω–∞–ª–∏–∑–∞
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ README.md           # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ .gitignore          # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
```
<br>

## üìà RFM-–∞–Ω–∞–ª–∏–∑

RFM-–∞–Ω–∞–ª–∏–∑ - –º–µ—Ç–æ–¥ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —Ç—Ä—ë–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º:
- **Recency (–¥–∞–≤–Ω–æ—Å—Ç—å):** –∫–∞–∫ –¥–∞–≤–Ω–æ –∫–ª–∏–µ–Ω—Ç —Å–æ–≤–µ—Ä—à–∞–ª –ø–æ—Å–ª–µ–¥–Ω—é—é –ø–æ–∫—É–ø–∫—É.
- **Frequency (—á–∞—Å—Ç–æ—Ç–∞):** –∫–∞–∫ —á–∞—Å—Ç–æ –∫–ª–∏–µ–Ω—Ç —Å–æ–≤–µ—Ä—à–∞–µ—Ç –ø–æ–∫—É–ø–∫–∏.
- **Monetary (—Å—É–º–º–∞ —Ç—Ä–∞—Ç):** –æ–±—â–∞—è –≤—ã—Ä—É—á–∫–∞ —Å –∫–ª–∏–µ–Ω—Ç–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥.

–ö–∞–∂–¥—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –ø–æ 3-–±–∞–ª–ª—å–Ω–æ–π —à–∫–∞–ª–µ (1 ‚Äî –ª—É—á—à–∏–π, 3 ‚Äî —Ö—É–¥—à–∏–π), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–¥–µ–ª–∏—Ç—å –¥–æ 27 —Å–µ–≥–º–µ–Ω—Ç–æ–≤.

–¢–∞–∫–æ–π –∞–Ω–∞–ª–∏–∑ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
1. –í—ã–¥–µ–ª–∏—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ —Ü–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å —Å –Ω–∏–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É.
2. –ù–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ –º–∞–ª–æ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.
3. –£–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–∏–±—ã–ª—å –∑–∞ —Å—á—ë—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.
4. –°–Ω–∏–∑–∏—Ç—å –æ—Ç—Ç–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.
<br>

## üóÉÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–ø—Ç–µ–∫–∏
–û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ - `bonuscheques`, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö –ø–æ –±–æ–Ω—É—Å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ.<br>
–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –ø–æ–ª—è:
- `card` - –Ω–æ–º–µ—Ä –±–æ–Ω—É—Å–Ω–æ–π –∫–∞—Ä—Ç—ã (—Ç–æ–ª—å–∫–æ –∫–∞—Ä—Ç—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å 2000 –∏ —Å–æ—Å—Ç–æ—è—â–∏–µ –∏–∑ 13 —Ü–∏—Ñ—Ä).
- `datetime` - –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–æ–∫—É–ø–∫–∏.
- `summ_with_disc` - —Å—É–º–º–∞ —á–µ–∫–∞ —Å —É—á—ë—Ç–æ–º —Å–∫–∏–¥–æ–∫ –∏ –±–æ–Ω—É—Å–æ–≤.
- `doc_id` - –Ω–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞.
- `shop` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–ø—Ç–µ–∫–∏.
<br>

## üìè –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
–ü–æ—Ä–æ–≥–∏ –æ–ø—Ä–µ–¥–µ–ª—è–ª–∏—Å—å —Å –ø–æ–º–æ—â—å—é **–ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª–µ–π** –¥–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∫ –≤—ã–±—Ä–æ—Å–∞–º. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ä–∞—Å—á—ë—Ç—ã –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –≤ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫:
- `pandas`, `numpy` ‚Äî –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö.
- `seaborn`, `matplotlib` ‚Äî –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.
- `sqlalchemy`, `psycopg2` ‚Äî –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î PostgreSQL.
- `python-dotenv` - –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env` —Ñ–∞–π–ª–∞ (–≤ –Ω–µ–º —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î).
  
#### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
| –û—Ü–µ–Ω–∫–∞ | Recency (–¥–∞–≤–Ω–æ—Å—Ç—å) | Frequency (—á–∞—Å—Ç–æ—Ç–∞) | Monetary (—Å—É–º–º–∞ —Ç—Ä–∞—Ç) |
|---|---|---|---|
| 1 | 21 –¥–µ–Ω—å –∏ –º–µ–Ω—å—à–µ.<br>20-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å. | 1 –∏–ª–∏ 2 –ø–æ–∫—É–ø–∫–∏.<br>50-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å. | –ú–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ 2479 —Ä—É–±–ª—è–º.<br>67-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å. |
| 2 | –û—Ç 22 –¥–æ 90 –¥–Ω–µ–π.<br>51-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å. | –û—Ç 3 –¥–æ 6 –ø–æ–∫—É–ø–æ–∫.<br>85-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å. | –ú–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ 6909 —Ä—É–±–ª–µ–π.<br>90-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å. |
| 3 | –ë–æ–ª—å—à–µ 90 –¥–Ω–µ–π. | 7 –∏ –±–æ–ª–µ–µ –ø–æ–∫—É–ø–æ–∫. | –ë–æ–ª—å—à–µ 6909 —Ä—É–±–ª–µ–π. |
<br>

## üè∑Ô∏è –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è
–ö–ª–∏–µ–Ω—Ç—ã –±—ã–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ 27 —Å–µ–≥–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ç–µ–º –±—ã–ª–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ 6 —Å–º—ã—Å–ª–æ–≤—ã—Ö –≥—Ä—É–ø–ø:
1. üö´ **–ù–µ —Ç—Ä–∞—Ç–∏–º –º–Ω–æ–≥–æ —Å–∏–ª** - –Ω–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –¥–∞–≤–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏.
2. ‚Ü©Ô∏è **–ù—É–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å** - –∫–ª–∏–µ–Ω—Ç—ã —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º, –Ω–æ –¥–∞–≤–Ω–æ –Ω–µ –ø–æ—Å–µ—â–∞–ª–∏ –∞–ø—Ç–µ–∫—É.
3. üåü **–ï—Å—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª** - –Ω–µ–¥–∞–≤–Ω–∏–µ –∏–ª–∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏.
4. üöÄ **–û—á–µ–Ω—å –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–µ** - –∫–ª–∏–µ–Ω—Ç—ã —Å –≤—ã—Å–æ–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ VIP.
5. ‚ù§Ô∏è **–õ–æ—è–ª—å–Ω—ã–µ** - –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã —Å —Ö–æ—Ä–æ—à–µ–π –∏—Å—Ç–æ—Ä–∏–µ–π.
6. üëë **VIP** - —Å–∞–º—ã–µ —Ü–µ–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã.
<br>

## üìâ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ –≤ **Metabase**:
- –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –¥–æ–ª–µ–π –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –≥—Ä—É–ø–ø–∞–º.
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –±–∞—Ä—á–∞—Ä—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º.
- –ë–∞—Ä—á–∞—Ä—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ª–æ—è–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –∞–ø—Ç–µ–∫–∞–º.
- –ì—Ä–∞—Ñ–∏–∫–∏ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥–∞–∂.
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏ —Å—É–º–º–æ–π –ø–æ–∫—É–ø–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã.
- –¢–∞–±–ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π —Å–µ–≥–º–µ–Ω—Ç–æ–≤.
<br>

## ‚úâÔ∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞—Å—Å—ã–ª–∫–∞–º

–î–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –°–ú–°-—Å–æ–æ–±—â–µ–Ω–∏—è:
| –ì—Ä—É–ø–ø–∞ | –¢–∏–ø —Ä–∞—Å—Å—ã–ª–∫–∏ |
|--------|--------------|
| üö´ **–ù–µ —Ç—Ä–∞—Ç–∏–º –º–Ω–æ–≥–æ —Å–∏–ª** | –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –±–µ–∑ –∞–∫—Ü–µ–Ω—Ç–∞ –Ω–∞ —Å–∫–∏–¥–∫–∞—Ö |
| ‚Ü©Ô∏è **–ù—É–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å** | –û–ø—Ä–æ—Å—ã + —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã |
| üåü **–ï—Å—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª** | –ê–∫—Ü–∏–∏ –∏ —Å–∫–∏–¥–∫–∏ –¥–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –¥–∞—Ç—ã |
| üöÄ **–û—á–µ–Ω—å –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–µ** | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ |
| ‚ù§Ô∏è **–õ–æ—è–ª—å–Ω—ã–µ** | –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å, —Å–∫–∏–¥–∫–∏, –ø–æ–¥–∞—Ä–∫–∏ |
| üëë **VIP** | –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, VIP-–∫–ª—É–± |
<br>

## üîë –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã
- –†–∞–∑–±–∏–ª –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º –∏ –æ–ø—Ä–µ–¥–µ–ª–∏–ª —Ä–∞—Å—Å—ã–ª–∫—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∏—Ö.
- 59% –Ω–∏–∑–∫–æ—Ü–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø—Ä–∏–Ω–æ—Å—è—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—É—é —á–∞—Å—Ç—å –≤—ã—Ä—É—á–∫–∏ (23,9%). –≠—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ –±–æ–ª—å—à–æ–º –æ—Ç—Ç–æ–∫–µ –∏ –Ω–∏–∑–∫–æ–π –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏, —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ "—Å–ª—É—á–∞–π–Ω—ã—Ö" –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π. –ù—É–∂–Ω–æ –ø–æ–≤—ã—à–∞—Ç—å –æ–±—â—É—é –ª–æ—è–ª—å–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑—ã, —Ç–æ–≥–¥–∞ –∏ –¥–æ–ª—è –≤—ã—Ä—É—á–∫–∏ –Ω–∏–∑–∫–æ—Ü–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å—Ç–∞–Ω–µ—Ç –º–µ–Ω—å—à–µ.
- 11,4% –ª–æ—è–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ (–≥—Ä—É–ø–ø—ã ¬´–õ–æ—è–ª—å–Ω—ã–µ¬ª –∏ ¬´VIP¬ª), –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–æ—Å—è—Ç 46,4% –≤—ã—Ä—É—á–∫–∏. –ú—ã –¥–æ–ª–∂–Ω—ã —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è –∫ –∑–∞–∫–æ–Ω—É –ü–∞—Ä–µ—Ç–æ - 20% –ª–æ—è–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø—Ä–∏–Ω–æ—Å—è—Ç 80% –≤—ã—Ä—É—á–∫–∏. –≠—Ç–æ —Å–Ω–æ–≤–∞ –≥–æ–≤–æ—Ä–∏—Ç –æ –ø—Ä–æ–±–ª–µ–º–µ —Å –ª–æ—è–ª—å–Ω–æ—Å—Ç—å—é.
- VIP-–∫–ª–∏–µ–Ω—Ç—ã –ù–ï —Å–∞–º—ã–µ –≤—ã—Å–æ–∫–∏–µ –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É (1030 ‚ÇΩ) - —É—Å—Ç—É–ø–∞—é—Ç ¬´–û—á–µ–Ω—å –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–º¬ª (1296 ‚ÇΩ) –∏ ¬´–ù—É–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å¬ª (1056 ‚ÇΩ). –≠—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ —ç—Ç–∏—Ö –¥–≤—É—Ö –≥—Ä—É–ø–ø, –Ω—É–∂–Ω–æ –∏—Ö —Å–¥–µ–ª–∞—Ç—å VIP-–º–∏. –ò –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —É–≤–µ–ª–∏—á–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ —É VIP-–∫–ª–∏–µ–Ω—Ç–æ–≤.
- 57,9% –ø–æ—Å–µ—â–µ–Ω–∏–π –ª–æ—è–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ ¬´–ê–ø—Ç–µ–∫—É 2¬ª –∏ ¬´–ê–ø—Ç–µ–∫—É 10¬ª. –°–ª–µ–¥—É–µ—Ç –≤—ã—è—Å–Ω–∏—Ç—å –ø—Ä–∏—á–∏–Ω—ã –∏—Ö –≤—ã–±–æ—Ä–∞, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –∫–∞–∫ —É–ª—É—á—à–∏—Ç—å –¥—Ä—É–≥–∏–µ –∞–ø—Ç–µ–∫–∏.
- –õ–µ—Ç–Ω–∏–π —Å–ø–∞–¥ –ø—Ä–æ–¥–∞–∂ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å—é –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π, –∞ —Å –Ω–∞—á–∞–ª–∞ –æ—Å–µ–Ω–∏ –ø—Ä–æ–¥–∞–∂–∏ –Ω–∞—á–∏–Ω–∞—é—Ç —Ä–∞—Å—Ç–∏ –∏ —Ö–æ—Ä–æ—à–æ –¥–µ—Ä–∂–∞—Ç—Å—è –∑–∏–º–æ–π –∏ –≤–µ—Å–Ω–æ–π. –ù—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å —Ç–∞–∫—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫—É.
- –†–µ–∫–æ–º–µ–Ω–¥—É—é –ø—Ä–æ–≤–æ–¥–∏—Ç—å RFM-–∞–Ω–∞–ª–∏–∑ –µ–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ, –ø—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Å–µ—Ç–∏ - –µ–∂–µ–º–µ—Å—è—á–Ω–æ.
<br>

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# 1. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd pharmacy-rfm-analysis

# 2. –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

# 3. –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (Windows)
venv\Scripts\activate

# Mac/Linux:
source venv/bin/activate

# 4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 5. –ó–∞–ø—É—Å–∫ Jupyter Notebook
python -m jupyter notebook
# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ notebooks\percentile_thresholds.ipynb

# 6. –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∫–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∏ —Ä–∞–±–æ—Ç—É)
deactivate
```
### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª `.env`.
```
DB_HOST=–≤–∞—à_—Ö–æ—Å—Ç
DB_NAME=–∏–º—è_–±–¥
DB_PORT=5432
DB_USER=–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_–±–¥
DB_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å
```
<br>

## üíª –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **–ë–î:** PostgreSQL üóÑÔ∏è
- **–ê–Ω–∞–ª–∏–∑:** Python (pandas, numpy, seaborn, matplotlib) üêç
- **BI-—Å–∏—Å—Ç–µ–º–∞:** Metabase üìä
- **IDE/–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** DBeaver, Jupyter Notebook üõ†Ô∏è
